<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>立翔水電行｜嘉義水電維修</title>
  <meta name="description" content="立翔水電行，嘉義在地水電服務。漏水、跳電、衛浴、配線、安裝，提供線上預約。" />
  <style>
    :root {
      --bg: #f7f4ec;
      --paper: #fffdf8;
      --ink: #1f2937;
      --muted: #6b7280;
      --brand: #0f766e;
      --brand-dark: #115e59;
      --line: #d6d3d1;
      --accent: #f59e0b;
    }
    * { box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    body {
      margin: 0;
      font-family: "Noto Sans TC", "PingFang TC", "Microsoft JhengHei", sans-serif;
      color: var(--ink);
      background: radial-gradient(circle at 0% 0%, #fff, var(--bg) 40%);
      line-height: 1.6;
    }
    a { color: inherit; text-decoration: none; }
    .wrap { width: min(1120px, 92%); margin: 0 auto; }

    .nav {
      position: sticky;
      top: 0;
      z-index: 50;
      backdrop-filter: blur(10px);
      background: rgba(255, 253, 248, 0.9);
      border-bottom: 1px solid #e7e5e4;
    }
    .nav-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
      padding: 12px 0;
    }
    .brand { font-weight: 800; font-size: 20px; }
    .menu { display: flex; gap: 18px; flex-wrap: wrap; }
    .menu a { color: var(--muted); font-weight: 600; }
    .menu a:hover { color: var(--ink); }
    .cta-btn {
      display: inline-block;
      background: var(--brand);
      color: #fff;
      border-radius: 999px;
      padding: 10px 18px;
      font-weight: 700;
      white-space: nowrap;
    }

    section { scroll-margin-top: 88px; }
    .hero { padding: 78px 0 56px; }
    .hero-grid { display: grid; grid-template-columns: 1.25fr 1fr; gap: 28px; align-items: center; }
    .kicker { color: var(--brand); font-weight: 800; letter-spacing: 0.04em; }
    h1 { font-size: clamp(34px, 5vw, 58px); line-height: 1.15; margin: 8px 0 14px; }
    .sub { color: var(--muted); max-width: 56ch; }
    .hero-card {
      background: linear-gradient(150deg, #0f766e, #115e59);
      color: #fff;
      border-radius: 22px;
      padding: 26px;
      box-shadow: 0 20px 45px rgba(17, 94, 89, 0.2);
    }

    .sec-title { font-size: clamp(28px, 3.8vw, 44px); margin: 0 0 8px; }
    .sec-sub { color: var(--muted); margin: 0 0 24px; }
    .cards { display: grid; gap: 16px; grid-template-columns: repeat(3, 1fr); }
    .card {
      background: var(--paper);
      border: 1px solid #ece7da;
      border-radius: 16px;
      padding: 18px;
    }
    .card h3 { margin: 0 0 8px; font-size: 22px; }
    .price { color: var(--accent); font-weight: 800; }

    .strip {
      margin: 54px 0;
      border: 1px dashed #d1d5db;
      background: #fff;
      border-radius: 16px;
      padding: 16px;
      display: flex;
      flex-wrap: wrap;
      gap: 14px 20px;
      align-items: center;
      justify-content: center;
      font-weight: 700;
    }

    .about { display: grid; grid-template-columns: 1fr 1fr; gap: 22px; }
    .about .card { min-height: 180px; }

    .contact {
      margin-top: 54px;
      background: #fff;
      border-radius: 18px;
      border: 1px solid #ece7da;
      padding: 24px;
    }
    .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
    input, select, textarea {
      width: 100%;
      border: 1px solid var(--line);
      border-radius: 10px;
      padding: 12px;
      font: inherit;
      background: #fff;
    }
    textarea { min-height: 120px; resize: vertical; }
    .submit {
      margin-top: 10px;
      width: 100%;
      border: 0;
      border-radius: 10px;
      background: var(--brand);
      color: white;
      padding: 12px;
      font: inherit;
      font-weight: 700;
      cursor: pointer;
    }
    .hint { margin-top: 8px; font-size: 14px; min-height: 20px; }
    footer { color: var(--muted); text-align: center; padding: 26px 0 40px; }

    @media (max-width: 900px) {
      .hero-grid, .about, .cards, .form-grid { grid-template-columns: 1fr; }
      .nav-row { align-items: flex-start; flex-direction: column; }
      .menu { width: 100%; overflow-x: auto; flex-wrap: nowrap; padding-bottom: 4px; }
      .cta-btn { width: 100%; text-align: center; }
      .hero { padding-top: 34px; }
    }
  </style>
</head>
<body>
  <nav class="nav">
    <div class="wrap nav-row">
      <a class="brand" href="#home">立翔水電行</a>
      <div class="menu">
        <a href="#home">首頁</a>
        <a href="#about">關於我們</a>
        <a href="#services">服務項目</a>
        <a href="#pricing">價格方案</a>
        <a href="#contact">聯絡我們</a>
      </div>
      <a class="cta-btn" href="tel:0932980620">立即來電 0932-980-620</a>
    </div>
  </nav>

  <main class="wrap">
    <section id="home" class="hero">
      <div class="hero-grid">
        <div>
          <p class="kicker">嘉義在地 30+ 年經驗</p>
          <h1>漏水、跳電、衛浴安裝<br />一通電話立即到府</h1>
          <p class="sub">我們賣的是水電服務，不是系統。系統只提供給師傅做內部管理。你只要留下需求，立翔水電行就會盡快聯絡安排。</p>
          <p>
            <a class="cta-btn" href="#contact">線上預約服務</a>
          </p>
        </div>
        <aside class="hero-card">
          <h3 style="margin:0 0 8px">24 小時緊急處理</h3>
          <p style="margin:0 0 8px">停電、跳電、漏水可優先處理</p>
          <p style="margin:0"><b>服務專線：</b> 0932-980-620</p>
        </aside>
      </div>
    </section>

    <section id="services">
      <h2 class="sec-title">服務項目</h2>
      <p class="sec-sub">一般住家、店面、工地維修與安裝</p>
      <div class="cards">
        <article class="card"><h3>水電維修</h3><p>漏水、堵塞、管線更換、器具故障排除。</p></article>
        <article class="card"><h3>電路檢修</h3><p>跳電、短路、配電盤檢查、老舊線路更新。</p></article>
        <article class="card"><h3>衛浴廚具安裝</h3><p>馬桶、熱水器、水龍頭、廚衛設備安裝。</p></article>
      </div>
    </section>

    <div class="strip">保固服務 ・ 明確報價 ・ 到府檢測 ・ 施工回報</div>

    <section id="pricing">
      <h2 class="sec-title">價格方案</h2>
      <p class="sec-sub">以下為常見案件起價，實際依現場評估報價</p>
      <div class="cards">
        <article class="card"><h3>基本檢測</h3><p class="price">NT$500 起</p><p>到府檢測與初步故障判斷。</p></article>
        <article class="card"><h3>一般維修</h3><p class="price">NT$1,200 起</p><p>常見漏水、管線與器具維修。</p></article>
        <article class="card"><h3>急修案件</h3><p class="price">NT$2,500 起</p><p>夜間或高難度問題的快速處理。</p></article>
      </div>
    </section>

    <section id="about" style="margin-top:54px">
      <h2 class="sec-title">關於我們</h2>
      <p class="sec-sub">立翔水電行，專做嘉義地區水電服務</p>
      <div class="about">
        <article class="card"><h3>在地經驗</h3><p>熟悉嘉義住家與商業場域需求，處理效率高。</p></article>
        <article class="card"><h3>施工透明</h3><p>先說明再施工，讓你知道每一項費用與處理方式。</p></article>
      </div>
    </section>

    <section id="contact" class="contact">
      <h2 class="sec-title" style="font-size:32px">線上預約服務</h2>
      <p class="sec-sub">送出後會進入後台，師傅可直接看到案件並聯絡你。</p>
      <form id="booking-form">
        <div class="form-grid">
          <input name="name" placeholder="姓名" required />
          <input name="phone" placeholder="電話" required />
        </div>
        <div class="form-grid" style="margin-top:12px">
          <input name="email" type="email" placeholder="Email（選填）" />
          <select name="service" required>
            <option value="">請選擇服務項目</option>
            <option>水電維修</option>
            <option>電路檢修</option>
            <option>衛浴廚具安裝</option>
            <option>漏水處理</option>
            <option>其他</option>
          </select>
        </div>
        <textarea name="message" placeholder="需求描述（地點、狀況、可聯絡時間）" style="margin-top:12px"></textarea>
        <button class="submit" type="submit">送出預約</button>
        <p id="booking-hint" class="hint"></p>
      </form>
    </section>
  </main>

  <footer>
    © 2026 立翔水電行 ｜ 服務專線 0932-980-620
  </footer>

  <script>
    (function () {
      const form = document.getElementById('booking-form');
      const hint = document.getElementById('booking-hint');
      if (!form || !hint) return;

      const setHint = (text, ok) => {
        hint.textContent = text || '';
        hint.style.color = ok ? '#0f766e' : '#dc2626';
      };

      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        const submit = form.querySelector('button[type="submit"]');
        const payload = {
          name: (form.name.value || '').trim(),
          phone: (form.phone.value || '').trim(),
          email: (form.email.value || '').trim(),
          service: (form.service.value || '').trim(),
          message: (form.message.value || '').trim(),
          source_url: window.location.href,
        };

        if (!payload.name || !payload.phone || !payload.service) {
          setHint('請填寫姓名、電話與服務項目。', false);
          return;
        }

        submit.disabled = true;
        setHint('送出中，請稍候...', true);

        try {
          const res = await fetch('/api/crm/public/bookings', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(payload),
          });
          const data = await res.json().catch(() => ({}));
          if (!res.ok) throw new Error(data.msg || '送出失敗，請稍後再試');
          form.reset();
          setHint('已送出，立翔水電行會盡快與你聯絡。', true);
        } catch (err) {
          setHint(err.message || '送出失敗，請稍後再試。', false);
        } finally {
          submit.disabled = false;
        }
      });
    })();
  </script>
</body>
</html>
